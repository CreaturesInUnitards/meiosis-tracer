!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.meiosisTracer=t():e.meiosisTracer=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=r(1);e.exports=n.meiosisTracer},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.meiosisTracer=void 0;var i=r(2),a=r(3),o=r(5),d=n(o),c=i.initialModel,u=function(e,t,r,n){var i=(0,d.default)(c,(0,a.proposalView)(t));return e({receive:i}),(0,a.initialView)(r,t,c,n),i(t.initialModel,"initialModel"),{reset:function(){return(0,a.reset)(t,c)}}};t.meiosisTracer=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={tracerStates:[],tracerIndex:0};t.initialModel=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reset=t.proposalView=t.initialView=void 0;var i=r(4),a=n(i),o={type:"space",size:2},d="tracerContainer",c="tracerSlider",u="tracerToggle",s="tracerReset",l="tracerIndex",v="tracerModel",f="tracerState",p="tracerProposal",y=function(e){return function(t,r){var n=t.model,i=t.proposal,d=document.getElementById(c);d.setAttribute("max",String(r.tracerStates.length-1)),d.value=String(r.tracerIndex);var u=document.getElementById(l);u.innerHTML=String(r.tracerIndex);var s=document.getElementById(p);s.value=(0,a.default)(i,o);var y=document.getElementById(v);y.value=(0,a.default)(n,o);var g=document.getElementById(f);g.value=(0,a.default)(e.state(n),o)}},g=function(e,t){return function(r){var n=parseInt(r.target.value,10),i=t.tracerStates[n],a=e.state(i.model);e(a),t.tracerIndex=n,y(e)(i,t)}},m=function(e){return function(t){try{var r=JSON.parse(t.target.value),n=e.state(r),i=document.getElementById(f);i.value=(0,a.default)(e.state(r),o),e(n)}catch(e){}}},x=function(e){return function(t){var r=t.target;"none"===e.style.display?(e.style.display="block",r.innerHTML="Hide"):(e.style.display="none",r.innerHTML="Show")}},S=function(e,t){return function(){I(e,t)}},I=function(e,t){t.tracerStates.length=0,t.tracerIndex=0,y(e)({model:e.initialModel,proposal:{}},t)},b=function(e,t,r,n){var i=document.querySelector(e);if(i){var a=n?" style='float: left'":"",o="<div style='text-align: right'><button id='"+u+"'>Hide</button></div><div id='"+d+"'><div style='text-align: right'><button id='"+s+"'>Reset</button></div><input id='"+c+"' type='range' min='0' max='"+String(r.tracerStates.length-1)+"' value='"+String(r.tracerIndex)+"' style='width: 100%'/><div id='"+l+"'>"+String(r.tracerIndex)+"</div><div"+a+"><div>Proposal:</div><textarea id='"+p+"' rows='5' cols='40'></textarea></div><div"+a+"><div>Model: (you can type into this box)</div><textarea id='"+v+"' rows='5' cols='40'></textarea></div></div><div"+a+"><div>State:</div><textarea id='"+f+"' rows='5' cols='40'></textarea></div></div>";i.innerHTML=o;var y=document.getElementById(d);document.getElementById(c).addEventListener("input",g(t,r)),document.getElementById(v).addEventListener("keyup",m(t)),document.getElementById(u).addEventListener("click",x(y)),document.getElementById(s).addEventListener("click",S(t,r))}};t.initialView=b,t.proposalView=y,t.reset=I},function(e,t){function r(e,t){n=[];var r="",i=0;e=e.replace(/\\./g,o).replace(/(".*?"|'.*?')/g,o).replace(/\s+/,"");for(var a=0;a<e.length;a++){var u=e.charAt(a);switch(u){case"{":case"[":r+=u+"\n"+c(++i,t);break;case"}":case"]":r+="\n"+c(--i,t)+u;break;case",":r+=",\n"+c(i,t);break;case":":r+=": ";break;default:r+=u}}return r=r.replace(/\[[\d,\s]+?\]/g,function(e){return e.replace(/\s/g,"")}).replace(/\\(\d+)\\/g,d).replace(/\\(\d+)\\/g,d)}var n=[],i={tab:{char:"\t",size:1},space:{char:" ",size:4}},a={type:"tab"},o=function(e){return"\\"+n.push(e)+"\\"},d=function(e,t){return n[t-1]},c=function(e,t){return new Array(e+1).join(t)};e.exports=function(e,t){t=t||a;var n=i[t.type];if(null==n)throw new Error('Unrecognized ident type: "'+t.type+'"');var o=new Array((t.size||n.size)+1).join(n.char);return r(JSON.stringify(e),o)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return function(r,n){var i=JSON.parse(JSON.stringify(r)),a={model:i,proposal:n};return e.tracerStates.push(a),e.tracerIndex=e.tracerStates.length-1,t(a,e),r}};t.default=r}])});
//# sourceMappingURL=meiosis-tracer.min.js.map